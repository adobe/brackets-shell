
## Overview
This readme describes how the .dmg file is created for Brackets on Mac. Like many Mac apps 
Brackets doesn't have an installer. Instead the user opens a disk image file (.dmg) and manually 
drags Brackets.app to their Applications folder.

## To create a Brackets dmg
1. Install DropDMG (http://c-command.com/dropdmg/) and Xcode 4.x. If the command-line Xcode build
   tools are not automatically installed, download them from the Apple Developer Center.
2. Run DropDMG once. In Preferences > Advanced, click "Install 'dropdmg' Tool".
3. In Terminal, do: `export BRACKETS_SRC=<absolute path to brackets/src folder>`
4. From the root of brackets-shell, do: `./scripts/build_mac.sh`. This will place the DMG in
   the installer/mac folder.
   
Note that after this process, you will be on the master branch in both the brackets-shell
and brackets repos.

## How it Works
* DropDMG provides both a GUI and command line interface for building Mac dmg files. 
  See http://c-command.com/dropdmg/. Brackets uses the shell script interface to control 
  DropDMG. Using the command line instead of the GUI allows build settings to be stored as 
  text and tracked in the brackets-shell git repo.

- buildInstaller.sh sets up some configuration variables regarding the name of the release, 
  creates a temporary directory for the build and then makes a single call to dropdmg to 
  create the dmg. All the options used to build the disk image are specified via command 
  arguments except the layout for the disk image. The layout is described via the 
  brackets-shell\installer\mac\dropDmgConfig\layouts\bracketsLayout folder. This folder 
  contains an Info.plist file, icons, and background image that DropDMG uses to layout the 
  appearance of the disk image. This layout folder is generated by the DropDMG GUI tool. 
  Dragging a layout from DropDMG to the tool creates this folder structure.
